{"data":{"site":{"siteMetadata":{"title":"sql-in-js","author":"Rick Bergfalk"}},"markdownRemark":{"id":"22ad3018-2f45-5ca3-973c-4c70b171ac26","excerpt":"SQLPad 3 has gotten bloated and I’m gonna fight it.This post will update as progress is made.04/22/2019 - DisappointmentThe SQLPad build for upcoming version…","html":"<p>SQLPad 3 has gotten bloated and I’m gonna fight it.</p>\n<p>This post will update as progress is made.</p>\n<h2>04/22/2019 - Disappointment</h2>\n<p>The SQLPad build for upcoming version 3 rework has hit 2.68 MB (uncompressed).</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ba9c25e50b9df6519728cb64d14fdc3d/9d68f/bundle-20190422.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 53.603335318642046%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABM0lEQVQoz3WSh66DMAxF8/8fyV4tGwqljPrpWDKifWoky+vm2o7jHo+HNE0j4zjKNE0yz7Os6/ohwzDI7XYTsN+51+slz+fz9B0Ex3HIvu+S57lEUaSgbds+yCla17XGwZLD7rpOsiw7SZWQ836/VSC3A/HVvx5y4K8H7D9CE7tEN79yECB0anFHq78OIxjwu/tlWdTnXWkKvyxLcfbQVGQxfd+rjbAkFlJV1bk4dNu2cr/fVePzjugkScTByjKKotBNEoQAnxykFEFTHGwcx0pCAe6ANbxjcwRxIDJyBJvuGQ0NFkyaptoRMXy6xWcaB5l9lzAMVXMBwQ+CQLXv+2ozAZqvAoa45eByVpWOAKGNjMsWx0bMhsTzvLMJ8x0PC6G1jjA+mopXYRI0OXtz89EU+wOtcEj9Wm/oFAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"The initial bundle\"\n        title=\"\"\n        src=\"/static/ba9c25e50b9df6519728cb64d14fdc3d/b9e4f/bundle-20190422.png\"\n        srcset=\"/static/ba9c25e50b9df6519728cb64d14fdc3d/cf440/bundle-20190422.png 148w,\n/static/ba9c25e50b9df6519728cb64d14fdc3d/d2d38/bundle-20190422.png 295w,\n/static/ba9c25e50b9df6519728cb64d14fdc3d/b9e4f/bundle-20190422.png 590w,\n/static/ba9c25e50b9df6519728cb64d14fdc3d/f9b6a/bundle-20190422.png 885w,\n/static/ba9c25e50b9df6519728cb64d14fdc3d/2d849/bundle-20190422.png 1180w,\n/static/ba9c25e50b9df6519728cb64d14fdc3d/bbefa/bundle-20190422.png 1770w,\n/static/ba9c25e50b9df6519728cb64d14fdc3d/9d68f/bundle-20190422.png 3358w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>That’s minified and uncompressed. Once gzipped Create-React-App says it’ll squish down to 723.48 KB, which sounds better but doesn’t change the fact it is still 2.68 MB of JS that needs to parse, compile, and execute. SQLPad as become one of <em>those</em> JavaScript apps the Chrome dev relations team tweets and blogs about.</p>\n<p>I suppose one could argue that bundle size is not <em>that</em> important for an app like SQLPad. The target device is not mobile, and the experience is more of an application where you write SQL and analyze data, not a site where you consume content.</p>\n<p>Still, there is opportunity to shave off some larger-than-necessary libraries and be a bit smarter and managing the bundle budget.</p>\n<h3>The goal</h3>\n<p>Before officially publishing SQLPad v3, I’d like to get the bundle size under 1.5 MB uncompressed at a minimum. My stretch goal would be 1.25 MB.</p>\n<p>The reality is the core SQLPad experience is centered around 2 JavaScript libraries</p>\n<ul>\n<li>Ace editor (422 KB + 25 KB for its React wrapper)</li>\n<li>Taucharts (379 KB + 170 KB for its d3 dependencies)</li>\n</ul>\n<p>Because this is a React project, there’s also react and react-dom adding another 112 KB.</p>\n<p>This puts the core SQLPad project without my code or any of the smaller libraries or component libraries at about 1100 KB.</p>","frontmatter":{"title":"Bundle Battle","date":"April 28, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/20190428-bundle-battle/","previous":{"fields":{"slug":"/20190420-hello-world/"},"frontmatter":{"title":"Switching to Gatsby"}},"next":null}}