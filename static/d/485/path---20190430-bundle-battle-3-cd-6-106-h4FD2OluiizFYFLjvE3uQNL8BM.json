{"data":{"site":{"siteMetadata":{"title":"sql-in-js","author":"Rick Bergfalk"}},"markdownRemark":{"id":"cbb29a81-084b-52ec-a11f-0913de35923a","excerpt":"This post is part of a series detailing the work involved to slim down SQLPad’s JavaScript bundle size. Read the introductory post.First some love for…","html":"<p><em>This post is part of a series detailing the work involved to slim down SQLPad’s JavaScript bundle size. <a href=\"/20190428-bundle-battle/\">Read the introductory post</a>.</em></p>\n<h2>First some love for antd</h2>\n<p>Before getting into this one I want to express some appreciation for <a href=\"https://ant.design/\">Ant Design</a> and antd.</p>\n<p>antd is an amazing component library. Of the various React component libraries out there, My favorite at the moment is antd. It has a nice balance of having a modern clean look without being too flat. It has a nice density about it, making it a great pick for more enterprisey applications. The components were a pleasure to work with.</p>\n<p>And there are so many components. <a href=\"https://ant.design/components/cascader/\">Cascading selections</a> and <a href=\"https://ant.design/components/steps/\">steps</a> and <a href=\"https://ant.design/components/auto-complete/\">AutoCompletes</a> and <a href=\"https://ant.design/components/mention/\">mentions</a> and <a href=\"https://ant.design/components/select/\">selects with tag modes</a> and <a href=\"https://ant.design/components/calendar/\">a calendar</a> and <a href=\"https://ant.design/components/tree/\">trees</a> and <a href=\"https://ant.design/components/timeline/\">timelines</a> and <a href=\"https://ant.design/components/drawer/\">drawers</a> and my favorite <a href=\"https://ant.design/components/modal/\">modals that animate open from the click location</a>.</p>\n<p>If you need a component, antd probably already has it.</p>\n<p>Unfortunately all that comes with the cost of a larger JavaScript bundle.</p>\n<p>When I set out to update SQLPad’s UI, I initially decided on antd because I wanted a library that had everything. I wanted the design to be cohesive, and I wanted it to be easy for others to expand on the UI if necessary. Instead of dealing with a random assortment of components I built, someone could simply take from the component library of antd.</p>\n<p>I think that’s a great benefit for a project, but I’m not sure if it is worth the cost for SQLPad.</p>\n<p>I ended up building my own tree and table components, and the other main component experiences are a code editor and a charting library which are also not from antd.</p>\n<p>I should have maybe thought about this a bit more before taking on a UI component conversion, but my component needs are pretty basic. Buttons, inputs, modals, toasts, and some tabs… I’m set. I don’t need a lot of the fancy antd components listed above. For those I do need, I can expand on some primitive react UI libraries like <a href=\"https://ui.reach.tech/\">Reach UI</a> and <a href=\"https://github.com/downshift-js/downshift\">downshift</a> and still keep the bundle small.</p>\n<h2>Removing antd</h2>\n<p>This part sucked because I spent a long time refactoring the previous solution and altering the design of SQLPad to fit to antd components. If it weren’t for the self challenge to shrink the JS bundle I would not have put myself through this activity. On the upside, all that refactoring helped make the transition to something else a bit easier.</p>\n<p>antd uses old-fashioned CSS to style its components. I decided to copy the pieces of style I like for components like buttons and inputs and use that as a base style to build on. With CSS module support in create-react-app 2+ I figured I’d give css modules a shot too.</p>\n<p>And now for some random thoughts on how things went.</p>\n<h3>Buttons</h3>\n<p>The Button component was the first to convert. It invovled wrapping a regular html button with some css and logic around when to use what class. The CSS ripped from antd and lightly modified.</p>\n<p>Its initial component implementation looked like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styles <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Button.module.css\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> className<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> classNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>styles<span class=\"token punctuation\">.</span>btn<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"primary\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    classNames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">.</span>primary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"danger\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    classNames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">.</span>danger<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    classNames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>classNames<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">...</span><span class=\"token attr-value\">rest</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So easy!</p>\n<p>Or is it? It wasn’t long until I started having a lot of styles copied across components (primary/danger styles for example). Then with the introduction of reach tooltip, I ran into smaller nuanced edge cases that needed to be addressed.</p>\n<p>The Reach tooltip component passes on a ref to its child component for positioning, but since I am using functional components this means I had to wrap my component function in <code class=\"language-text\">React.forwardRef</code>. Then using the application teased out issues with tooltips on hover of disabled buttons. A quick googling brought me to an <a href=\"https://getbootstrap.com/docs/4.0/components/tooltips/#disabled-elements\">explanation of why by Bootstrap</a></p>\n<p>Instead of getting hover tooltips on disabled buttons I just opted to not show the tooltip. Handling this case influenced my component API though in ways I haven’t given much thought to in the past though. Up until this point I was using my Tooltip and Button components separately:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>helpful tip<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>disabled<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">my button</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Tooltip</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This worked well for ad-hoc building of things but there’s no way I was going to do this everywhere there was a disabled button:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">{</span>\n  disabled <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">my button</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>helpful tip<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">my button</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Tooltip</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So instead I opted to add a tooltip prop to the <code class=\"language-text\">Button</code> component and have it own its tooltip. This comes at the expense of losing the ability to tweak tooltip styles or other properties outside the <code class=\"language-text\">Button</code> component, but that’s something I’m okay with, because the application owns the button implementation now, not a component library.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>disabled<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">tooltip</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>helpful tip<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  my button\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>In addition to tooltip considerations, icons also needed to be considered.</p>\n<p>To get to the point of all this… The simplest of all components gradually grew to something more complex. And I’m sure it’ll continue to grow in complexity.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styles <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Button.module.css\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Tooltip <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Tooltip\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">ICON_SIZE</span> <span class=\"token operator\">=</span> <span class=\"token number\">18</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Button <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span>\n    <span class=\"token parameter\"><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> icon<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> htmlType<span class=\"token punctuation\">,</span> tooltip<span class=\"token punctuation\">,</span> disabled<span class=\"token punctuation\">,</span> className<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    ref</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> classNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>styles<span class=\"token punctuation\">.</span>btn<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"primary\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      classNames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">.</span>primary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"danger\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      classNames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">.</span>danger<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      classNames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n        <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>classNames<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">type</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>htmlType<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">disabled</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>disabled<span class=\"token punctuation\">}</span></span>\n        <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">...</span><span class=\"token attr-value\">rest</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>icon <span class=\"token operator\">&amp;&amp;</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">cloneElement</span><span class=\"token punctuation\">(</span>icon<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> size<span class=\"token punctuation\">:</span> <span class=\"token constant\">ICON_SIZE</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>children <span class=\"token operator\">&amp;&amp;</span> icon <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token punctuation\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// If the button is disabled the tooltip gets weird on hover</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tooltip <span class=\"token operator\">||</span> disabled<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> button<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">label</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tooltip<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>button<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Tooltip</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Button<span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Select</h3>\n<p>For the Select component I’ve opted to just use the standard HTML select element, and deal with its limitations. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#Styling_with_CSS\">Mozilla kindly points out that the select element is notorously difficult to style</a>.</p>\n<p>I always thought the style was in regards to the options, but it turns out you can’t even change the border radius!?!? Really!?</p>\n<p>Not much I wanted to say here other than you don’t know what you can style until you try.</p>\n<h3>Modals/dialogs, tooltips, and menus</h3>\n<p>For the components that don’t have native browser equivalents, I opted to go with those offered by <a href=\"https://ui.reach.tech/\">ReachUI</a>.</p>\n<p>The library aims to provide an accessible foundation for components which is great. The main draw for me though is that the components themselves are very basic and not styled much. They are also lightweight. Exactly the kind of component library I need for this exercise!</p>\n<p>Something I didn’t quite expect from the focus on accessibility? Really pleasant keyboard navigation throughout the application. Modals open and set focus to the first focusable element or the component of your choice. Escape key closes it. Tooltips show when tabbing through components. It’s great.</p>\n<p>And relatively small compared to a similar component in antd. <code class=\"language-text\">@reach/dialog</code> weighs in at 24.8 KB minified uncompressed.</p>\n<h3>Toast messages</h3>\n<p>Something antd had that I really liked (and overused) was the ability to easily create a toast/notification message imperatively. Instead of setting an error state somewhere and then rendering an error component in response to that state (and then unsetting that state after some time), you interact with an API that does all that for you somewhere near the top of your app by calling a function <code class=\"language-text\">message.error(&#39;something happened&#39;);</code></p>\n<p>You could recreate this with redux or context or something similar, but I opted to use a simple event emitter pub/sub called <a href=\"https://github.com/developit/mitt\">mitt</a>.</p>\n<p>Since it is not stored or context based, there’s no importing of context reference or connecting the component to actions to use it. Simply import the message function and call it.</p>\n<p>The <a href=\"https://github.com/rickbergfalk/sqlpad/blob/master/client/src/common/message.js\">implementation</a> is really basic and naive, but it works. It has me thinking as to why we (developers using React) don’t use more of event pub/sub outside of react.</p>\n<h3>Tag select/auto complete</h3>\n<p>For building my own tag input, I opted to use <a href=\"https://github.com/downshift-js/downshift\">downshift</a> because it’s a primitive for building these kinds of inputs where you want some auto complete and is fairly popular.</p>\n<p>I’m thankful this library exists… but I don’t know if I’m really a fan. Is it possible for a React primitive to be too primitive?</p>\n<p>Reading through the examples and trying to build something was not only difficult, but resulted in code that (in my opinion) is hard to follow.</p>\n<p>Ultimately I’d like perhaps something between <a href=\"https://github.com/JedWatson/react-select\">react-select</a> and downshift.</p>\n<h2>Closing thoughts</h2>\n<ul>\n<li>I can’t believe how wacky some of this html/css stuff is still. I’ve forgotten because ever since Bootstrap came around I’ve always reached for something off the shelf to not be concerned with the lower level details.</li>\n<li>I definitely hit a point where I just want this work to be over with. And that’s kind of a sad feeling to have towards something you’ve created.</li>\n<li>The bundle size is definitely smaller though!!!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">              bundle  ~2.58 MB\n-               antd\n+      @reach/dialog\n+ @reach/menu-button\n+     @reach/tooltip\n+          downshift\n+       match-sorter\n+          mdi-react\n+               mitt\n+       react-switch\n-------------------------------\n          new bundle  ~1.63 MB</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a7679163b9ba534bc249fd14cdc92afa/6324c/bundle-20190514.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 51.057401812688816%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABH0lEQVQoz4WS6Y6DMAyE8/6PyA9AHKUUKHcL5fDqs2SUrlbaSCM7jmOPR3bTNMm6rrIsi9q+7+XxeMg8z3p/vV5S17XG8N/vt9rn8ylVValPDYOjkH+O45Bt2+Q8z684MXu35vu+K8ZxlGEY1F4FKeAXsbuBPIr9PhbDfhX87/zF2i/4+XykaRpxaAVtAnwynbjbWGjTtu01og/ysPwpy1IcyRS53W6X8CY6RUAcxxJFkRRFoXl5nmtumqaSJIlkWSZhGGr8GhnqPn07iE1nGjMB4E5DJOi6TrVjO9gGxyMOCcBWxBjzDuzOqsAIwBhWlgNbR+L9fldBKUgC4BHLWGb9EZEgCAKN4WNp4GyBEdVAzPfRkdFMb6ztnfkQgv0PERoBtJkeQsEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Bundle minus react-virtualized\"\n        title=\"\"\n        src=\"/static/a7679163b9ba534bc249fd14cdc92afa/b9e4f/bundle-20190514.png\"\n        srcset=\"/static/a7679163b9ba534bc249fd14cdc92afa/cf440/bundle-20190514.png 148w,\n/static/a7679163b9ba534bc249fd14cdc92afa/d2d38/bundle-20190514.png 295w,\n/static/a7679163b9ba534bc249fd14cdc92afa/b9e4f/bundle-20190514.png 590w,\n/static/a7679163b9ba534bc249fd14cdc92afa/f9b6a/bundle-20190514.png 885w,\n/static/a7679163b9ba534bc249fd14cdc92afa/2d849/bundle-20190514.png 1180w,\n/static/a7679163b9ba534bc249fd14cdc92afa/bbefa/bundle-20190514.png 1770w,\n/static/a7679163b9ba534bc249fd14cdc92afa/6324c/bundle-20190514.png 3310w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","frontmatter":{"title":"Bundle Battle 3 - antd","date":"April 30, 2019","description":"The one where I forgot what it's like to write html"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/20190430-bundle-battle-3/","previous":{"fields":{"slug":"/20190429-bundle-battle-2/"},"frontmatter":{"title":"Bundle Battle 2 - react-virtualized, react-window"}},"next":null}}